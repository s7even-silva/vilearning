<div class="myolab-container">

  <!-- BotÃ³n de regreso a cursos -->
  <button class="btn-back" (click)="goToCourses()">
    â† Volver a Cursos
  </button>

  <!-- Pantalla de bienvenida -->
  @if (currentState === 'welcome') {
    <div class="welcome-screen">
      <div class="welcome-card">
        <h1>ğŸ¦¾ Laboratorio de PrÃ³tesis MioelÃ©ctrica</h1>
        <p class="welcome-description">
          En este laboratorio aprenderÃ¡s cÃ³mo funcionan las prÃ³tesis mioelÃ©ctricas mediante
          la detecciÃ³n en tiempo real de los movimientos de tu mano.
        </p>

        <div class="features">
          <div class="feature-item">
            <span class="feature-icon">ğŸ“¹</span>
            <span>DetecciÃ³n de mano con IA</span>
          </div>
          <div class="feature-item">
            <span class="feature-icon">ğŸ‘†</span>
            <span>Reconocimiento de gestos</span>
          </div>
          <div class="feature-item">
            <span class="feature-icon">ğŸ¯</span>
            <span>VisualizaciÃ³n en tiempo real</span>
          </div>
        </div>

        <button class="btn-start" (click)="startLab()">
          ğŸ¥ Iniciar Laboratorio
        </button>

        <p class="permission-note">
          <small>Se solicitarÃ¡ permiso para acceder a tu cÃ¡mara</small>
        </p>
      </div>
    </div>
  }

  <!-- Ãrea del laboratorio -->
  @if (currentState === 'lab') {
    <app-lab-workspace (onFinish)="onLabFinish()"></app-lab-workspace>
  }

  <!-- Cuestionario -->
  @if (currentState === 'quiz') {
    <app-quiz (onComplete)="onQuizComplete($event)"></app-quiz>
  }

  <!-- Resultados del cuestionario -->
  @if (currentState === 'results') {
    <app-results [score]="finalScore" [totalQuestions]="totalQuestions"></app-results>
  }
</div>
